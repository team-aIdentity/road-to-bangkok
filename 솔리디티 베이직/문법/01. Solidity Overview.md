(# Solidity 오버뷰

~~전체적으노 내용이 부족함 https://www.ibm.com/topics/smart-contracts을 참고해서 솔리디티의 장점, 적용 사례(여기에 나오는 내용 뿐만 아니라 uniswap 등 defi, 아니면 DAO(DAO는 이더리움 백서 등 참고)해서 내용 추가했으면 좋겠음~~
~~ABI등을 통해 프론트엔드나 백엔드가 어떻게 블록체인과 상호작용하는지에 대한 내용도 있으면 좋을 듯~~
~~https://ethereum.org/en/developers/docs/smart-contracts/ 여기도 참고해서 쓰면 좋을 듯 (multisig는 안 넣어도 괜찮을 듯), 여기서 언급되는 oracle, 추가적으로 smart contract verification에 대한 내용도 있으면 좋을 듯~~

## 소개

Solidity는 이더리움 스마트 컨트랙트를 작성하기 위해 설계된 고급 프로그래밍 언어아다. 이 언어는 이더리움 블록체인 위에서 실행되는 스마트 컨트랙트를 개발하는 데 사용된다.


## 스마트 컨트랙트란? 

Solidity가 왜 필요한지 이해하기 위해 스마트 컨트랙트에 대한 이해가 필요하다.  
스마트 컨트랙트란 단순히 **블록체인 상에서 실행되는 프로그램**이다. 스마트 컨트랙트는 블록체인 내부에 특정 주소에 존재하며 이 특정 주소에 존재하는 코드와 데이터의 집합인 것이다.  

또한, 스마트 컨트랙트는 **이더리움 계정이다**. 이는 스마트 컨트랙트가 잔액을 가지며 거래의 대상이 될 수 있음을 의미한다. 사용자의 계정들(Externally Owned Accounts)은 스마트 컨트랙트에 정의된 함수들을 실행하는 트랜잭션을 제출하여 스마트 컨트랙트와 상호작용 할 수 있다.  

요약하자면, 스마트 컨트랙트는 결국 아래의 두가지로 정의된다 것만 이해하면 된다.
(1). 이더리움 블록체인에서 존재하며 호출되었을 때 실행되는 프로그램
(2). 이더리움의 계정

Solidity는 스마트 컨트랙트를 작성하기 위해 설계된 언어인만큼, 앞으로 강의를 이해하기 위해서는 스마트 컨트랙트의 정의를 염두하도록 하자.

## 스마트 컨트랙트와 탈중앙성  

스마트 컨트랙트의 정의와 더불어 스마트 컨트랙트가 탈중앙성에 있어서 어떻게 그렇게 강력한 도구일 수 있는지를 예시를 통해 살펴보자. 

최근에 넥슨의 유명한 MMORPG 메이플스토리에서 확률성 아이템 확률 조작 논란에 휩싸인 적이 있었다. 이는 넥슨이 게임 회사로서, 게임 내 아이템에 대한 완전한 소유권을 갖고 있었고, 확률성 아이템에 대한 정보를 넥슨의 중앙서버에서 전부 관리 했기에 일어났던 일이었다.  

만약 넥슨의 확률성 아이템에 대한 확률 정보와 아이템이 게임 코드에 주는 영향이 스마트 컨트랙트의 형태로 블록체인에 올라가 있었다면..? 다른 말로하면 중앙서버에서 중앙화된 형태로 정보가 존재한 것이 아니라 블록체인에 탈중앙화 되어 정보가 올라가 있었다면, 확률 조작과 같은 사태가 일어날 수 없음을 의미한다.  

이처럼 스마트 컨트랙트는 이더리움에 있어서 탈중앙성을 제공하는 핵심적인 도구일 뿐만 아니라, 금융, 게임, 컨슈머 앱 등 다양한 분야에서 블록체인이 실제 서비스에 적용될 수 있게하는 일등 공신인 것이다.

현재는 스마트 컨트랙트가 디지털 환경에서만 효용성을 갖게 하는게 아닌, 현실 세계에서도 영향을 줄 수 있게하기 위해 off chain 데이터를 탈중앙적이게 체인에 공급할 수 있게하는 하는 Oracle 서비스, 현실에 있는 부동산, 자동차 등을 토큰화에 블록체인에 올리는 Asset Tokenization 등 점점 스마트 컨트랙트의 사용 범위를 넓히고 있다.  



## Solidity 특징

Solidity는 다음과 같은 특성을 갖는다. 

- **스마트 컨트랙트 구현**: Solidity는 스마트 컨트랙트를 구현하기 위해 설계되었습니다. 스마트 컨트랙트는 블록체인 상에서 자동으로 실행되는 계약입니다.
- **정적 타입**: Solidity는 정적 타입 언어로, 변수의 타입을 명시적으로 지정해야 합니다.
- **객체 지향**: Solidity는 객체 지향 프로그래밍 패러다임을 지원합니다. 계약은 클래스와 유사한 개념이며, 계약 내에는 상태 변수와 함수가 포함됩니다.
- **상속 지원**: Solidity는 계약 간 상속을 지원하여 코드의 재사용성을 높입니다.
- **라이브러리 및 사용자 정의 데이터 타입**: 복잡한 데이터 구조를 정의하고 재사용 가능한 라이브러리를 만들 수 있습니다.

솔리디티로 작성한 스마트 컨트랙트가 어떻게 이더리움 내부에서 작동하는지 이해하려면 EVM에 대한 이해가 필요 합니다. 

## 이더리움 가상 머신 (EVM)

이더리움 가상 머신은 스마트 계약을 실행하기 위한 런타임 환경으로, 이더리움 네트워크의 모든 노드에서 동작합니다. EVM은 스마트 계약의 바이트코드를 실행하고 네트워크 상의 상태를 변경합니다.

스마트 컨트랙트 정의 (1)에서 블록체인에서 실행되는 프로그램인 것을 알았다. 스마트 컨트랙트가 호출 되었을 경우 각 노드들은 이더리움 가상 머신(EVM)에서 스마트 컨트랙트를 실행하고 이의 결과에 따라 이더리움 네트워크 상의 상태를 변경하는 것이다. 



### 작동 원리

![image](https://github.com/Joon2000/Solidity-modules/assets/87323564/3077ac5a-1b37-4b95-8920-58914f5e2dbe)

- 솔리디티로 작성된 스마트 컨트랙트는 솔리디티 컴파일러를 통해 Bytecode와 ABI로 변환됩니다.  
- EVM은 Bytecode로 변환된 컨트랙트의 조건이 만족 되었을 경우 자동으로 실행시킵니다.

- ABI는 스마트 컨트랙트와 상호작용하기 위한 표준 인터페이스다. 프론트엔드나 백엔드는 ABI를 사용하여 스마트 컨트랙트의 함수 호출, 이벤트 수신 등을 수행할 수 있다. ABI는 스마트 컨트랙트가 제공하는 함수의 시그니처와 데이터 타입을 정의하여 스마트 컨트랙트와의 상호작용을 가능하게 한다.


### Bytecode 예시 
![image](https://github.com/Joon2000/Solidity-modules/assets/87323564/21bd4c81-d3be-4135-b151-7aae639da6d9)
  
### ABI 예시
![image](https://github.com/Joon2000/Solidity-modules/assets/87323564/55f4d368-2b8f-449e-b14b-71da4d3b1c7c)


### 결론 

Solidity와 EVM의 조합은 이더리움 생태계의 핵심이며, 이더리움을 통해 다양한 분산형 애플리케이션 및 스마트 컨트랙트를 개발하는 데 필수적입니다.  
이더리움과 Solidity를 함께 사용하여 투표, 크라우드펀딩, 블라인드 경매 및 다중 서명 지갑 등 블록체인 기반의 새로운 유틸리티를 제공하는데 사용될 수 있습니다. 
