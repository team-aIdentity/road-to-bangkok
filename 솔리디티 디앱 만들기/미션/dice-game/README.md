# Scaffold-ETH 2ë¡œ ê°„ë‹¨í•œ ì£¼ì‚¬ìœ„ ê²Œì„ ë§Œë“¤ê¸°

## ğŸš© Step 0. ë¬´ì‘ìœ„ì„±?

ë‹¤ë“¤ ì•Œë‹¤ì‹œí”¼ ì»´í“¨í„°ëŠ” ë‚œìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ì—†ë‹¤. ì»´í“¨í„°ëŠ” ì‚¬ëŒê³¼ ë‹¬ë¦¬ ë¬´ì˜ì‹ì ì¸ ì„ íƒì„ í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ë˜ì„œ ê¸°ì¡´ì˜ ì…ë ¥ê°’ì„ í†µí•´ ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ëŠ” 'ê²°ì •ë¡ ì 'ìœ¼ë¡œ ë™ì‘í•œë‹¤.

ì´ëŠ” ë¸”ë¡ì²´ì¸ì—ë„ ë˜‘ê°™ì´ ì ìš©ëœë‹¤. í•˜ì§€ë§Œ ë¡œì»¬ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ ë‚œìˆ˜ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ë‹¤. ë…¸ë“œê°€ ë¸”ë¡ì„ ë°›ì•„ ì‹¤í–‰í–ˆì„ ë•Œ, ëª¨ë“  ë…¸ë“œëŠ” ê°™ì€ ê²°ê³¼ê°’ì„ ì¶œë ¥í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ ë¸”ë¡ì²´ì¸ì—ëŠ” ì…ë ¥ ê°’ì„ í™•ë³´í•˜ê¸° ì–´ë µë‹¤.

ë¸”ë¡ì²´ì¸ ë‚œìˆ˜ ìƒì„± ë°©ì‹ì€ ì—¬ëŸ¬ê°€ì§€ê°€ ìˆë‹¤. ë¸”ë¡ ìƒíƒœê°’ì„ ì¡°í•©í•˜ì—¬ ë‚œìˆ˜ ìƒì„±ì˜ ì…ë ¥ ê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°ë„ í•˜ê³ , Commit and Revealì´ë¼ ë¶ˆë¦¬ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤. ì´ ì™¸ì—ë„ VDF, Signidice ë“± ê³¼ ê°™ì€ ì—¬ëŸ¬ ë°©ë²•ì„ í†µí•´ ë¸”ë¡ì²´ì¸ì€ ë‚œìˆ˜ë¥¼ ìƒì„±í•œë‹¤.

ê·¸ëŸ¼ ì´ ë‚œìˆ˜ëŠ” ì™œ í•„ìš”í• ê¹Œ? ì—¬ëŸ¬ê°€ì§€ ì´ìœ  ì¤‘ ì˜ˆì‹œë¡œ í•˜ë‚˜ë¥¼ ë“¤ìë©´, ë°¸ë¦¬ë°ì´í„°ë¥¼ ì„ ì¶œí•  ë•Œ ë‚œìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ ë°¸ë¦¬ë°ì´í„°ì˜ ì„ ì¶œ ê³¼ì •ì„ ëª¨ë“  ë…¸ë“œê°€ ë°›ì•„ë“¤ì¼ ìˆ˜ ìˆì–´ì•¼ í•˜ê³  ëˆ„êµ¬ë„ ì¡°ì‘í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, íƒˆì¤‘ì•™í™”ë¥¼ ì§€í‚¤ë©´ì„œ ì§€ì†ì ìœ¼ë¡œ ë‚œìˆ˜ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤. ì´ì²˜ëŸ¼ ì—¬ëŸ¬ ì´ìœ ë•Œë¬¸ì— ë¸”ë¡ì²´ì¸ì—ì„œ ë¬´ì‘ìœ„ì„±ì€ ì¤‘ìš”í•œ ë¬¸ì œì´ë‹¤.

> ğŸ”¥ ì´ë²ˆ ë¯¸ì…˜ì—ì„œëŠ” ë¸”ë¡ í•´ì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚œìˆ˜ë¥¼ ìƒì„±í•˜ê³ , ì´ë¥¼ ì´ìš©í•œ ì£¼ì‚¬ìœ„ ê²Œì„ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ì œì‘í•œë‹¤.

---

## ğŸš© Step 1. í™˜ê²½

Scaffod-ETH 2 í”„ë¡œì íŠ¸ ìƒì„± ë° ì˜ì¡´ì„± ì„¤ì¹˜

=> ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í• ì§€ ë§Œë“¤ì–´ë†“ì€ í”„ë¡œì íŠ¸ë¥¼ cloneí•´ê°ˆì§€ ì¶”í›„ ê²°ì •

```sh
git clone https://github.com/scaffold-eth/se-2-challenges.git challenge-3-dice-game
cd challenge-3-dice-game
git checkout challenge-3-dice-game
yarn install
```

> ì²« ë²ˆì§¸ í„°ë¯¸ë„ì—ì„œ ë¡œì»¬ ë¸”ë¡ì²´ì¸ ì´ˆê¸°í™” í•˜ê¸°

```sh
yarn chain
```

> ë‘ ë²ˆì§¸ í„°ë¯¸ë„ì—ì„œ ìŠ¤ë§ˆíŠ¸ ê³„ì•½ ë°°í¬í•˜ê¸°

```sh
cd challenge-3-dice-game
yarn deploy
```

> ì„¸ ë²ˆì§¸ í„°ë¯¸ë„ì—ì„œ í”„ë¡ íŠ¸ì—”ë“œ ì‹œì‘í•˜ê¸°

```sh
cd challenge-3-dice-game
yarn start
```

ğŸ“± http://localhost:3000 ìœ¼ë¡œ ì ‘ì†í•´ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì—´ê¸°

---

## ğŸš© Step 2. ê°€ìŠ¤ & ì§€ê°‘

> â›½ï¸ ì£¼ì‚¬ìœ„ ë¡¤ì„ í•˜ê¸° ì „ì—, ê°€ìŠ¤ë¹„ë¥¼ ì§€ë¶ˆí•˜ê¸° ìœ„í•œ ìê¸ˆì´ í•„ìš”í•  ê²ƒì´ë‹¤.

![Faucet](https://github.com/scaffold-eth/se-2-challenges/assets/55535804/e82e3100-20fb-4886-a6bf-4113c3729f53)

> ğŸ¦Š ìš°ì„  Metamaskì™€ ì—°ê²°í•˜ì§€ ì•ŠëŠ”ë‹¤. ë§Œì•½ ì—°ê²°í–ˆë‹¤ë©´ ì—°ê²°ì„ ëŠê³  ë¡œì»¬í˜¸ìŠ¤íŠ¸ì— ìˆëŠ” burner ì§€ê°‘(í…ŒìŠ¤íŠ¸ìš© í† í°ì„ ê°€ì§„ ì¼íšŒìš© ì§€ê°‘)ì„ ì‚¬ìš©í•œë‹¤.

<p>
  <img src="./images/nft_wallet.png" width="33%" />
  <img src='./images/nft_copy_address.png' width='33%' />
  <img src="./images/nft_faucet.png" width="33% />
</p>

---

## ğŸš© Step 3. ì£¼ì‚¬ìœ„ ë¡¤

<!-- > ì£¼ì‚¬ìœ„ë¥¼ êµ´ë¦¬ê¸° ì „ì— `RiggedRoll.sol`ì˜ `receive()` í•¨ìˆ˜ë¥¼ í†µí•´ Ethë¥¼ ë°›ëŠ”ë‹¤.

<p>
  <img src='./images/nft_wallet_receive_function.png' width="600px" />
</p> -->

> íƒ­ì—ì„œ **Dice Game** ë²„íŠ¼ì„ í´ë¦­í•œë‹¤. ê·¸ í›„, **Roll the dice!** ë²„íŠ¼ì„ í†µí•´ ì£¼ì‚¬ìœ„ë¥¼ êµ´ë¦°ë‹¤.

í”Œë ˆì´ì–´ê°€ ì£¼ì‚¬ìœ„ë¥¼ êµ´ë¦´ ë•Œ, `0,1,2,3,4,5`ê°€ ë‚˜ì˜¤ë©´ í˜„ì¬ ìƒê¸ˆ ê¸ˆì•¡ì„ íšë“ í•œë‹¤. í”Œë ˆì´ì–´ê°€ ë³´ë‚¸ 0.002 Eth ì¤‘ 40%ëŠ” í˜„ì¬ ìƒê¸ˆì— ì¶”ê°€ë˜ê³ , ë‚˜ë¨¸ì§€ 60%ëŠ” ë¯¸ë˜ ìƒê¸ˆì„ ë§ˆë ¨í•˜ê¸° ìœ„í•´ `Contract`ì— ë‚¨ì•„ìˆë‹¤.

![RiggedRollAddress](https://github.com/scaffold-eth/se-2-challenges/assets/55535804/e9b9d164-2fb1-416a-9c5e-198d15bca0c6)

> 0.002 Eth ë³´ë‹¤ ì‘ìœ¼ë©´ `RollTheDice()` í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.

---

## ğŸš© Step 4. ì¸ì¶œ ë° ë°°í¬

ì§€ê¸ˆê¹Œì§€ ì£¼ì‚¬ìœ„ ë¡¤ì„ í†µí•œ Ethë¥¼ ì¸ì¶œí•´ë³´ì.

> RigedRoll contractë¥¼ `deploy`í•˜ë ¤ë©´ `packages/hardhat/deploy`ì˜ `01_deploy_riggedRoll.ts` ì—ì„œ ì†Œìœ ìë¥¼ í”„ë¡ íŠ¸ ì—”ë“œ ì£¼ì†Œë¡œ ë°”ê¿”ì•¼ í•œë‹¤.

```typescript
const riggedRoll: RiggedRoll = await ethers.getContract("RiggedRoll", deployer);

// Please replace the text "Your Address" with your own address.
try {
  await riggedRoll.transferOwnership("Your Address");
} catch (err) {
  console.log(err);
}
```

ì†Œìœ ìë¡œ ì„¤ì • í•¨ìœ¼ë¡œì¨, ì¸ì¶œ ê¸°ëŠ¥ì„ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.

![WithdrawOnlyOwner](https://github.com/scaffold-eth/se-2-challenges/assets/55535804/e8397b1e-a077-4009-b518-30a6d8deb6e7)

ğŸ“¡ `packages/hardhat/hardhat.config.ts`ì— ìˆëŠ” `defaultNetwork`ì—ì„œ [ì›í•˜ëŠ” public EVM networks](https://ethereum.org/en/developers/docs/networks/) ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.

ğŸ” `yarn generate`ë¥¼ ì´ìš©í•˜ì—¬, **deployer address**ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

ğŸ‘©â€ğŸš€ `yarn account`ë¥¼ ì´ìš©í•˜ì—¬, **deloyer account**ì˜ ì”ì•¡ì„ ë³¼ ìˆ˜ ìˆë‹¤.

â›½ï¸ `yarn deploy`ë¥¼ ì´ìš©í•˜ì—¬, ìŠ¤ë§ˆíŠ¸ ì»¨ë“œë™íŠ¸ë¥¼ **public Network**ì— ë°°í¬ í•©ë‹ˆë‹¤.

> hardhat.config.tsì—ì„œ defaultNetworkë¥¼ sepoliaë¡œ ì„¤ì •í•˜ê±°ë‚˜ yarn deploy --network sepolia ëª…ë ¹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

---

## Checkpoint 5: ğŸš¢ Ship your frontend! ğŸš

```json
const config: HardhatUserConfig = {
  solidity: {
    version: "0.8.17",
    settings: {
      optimizer: {
        enabled: true,
        // https://docs.soliditylang.org/en/latest/using-the-compiler.html#optimizer-options
        runs: 200,
      },
    },
  },
  defaultNetwork: "localhost",
```

âœï¸ Edit your frontend config in `packages/nextjs/scaffold.config.ts` to change the `targetNetwork` to `chains.sepolia` or any other public network.

ğŸ’» View your frontend at http://localhost:3000 and verify you see the correct network.

ğŸ“¡ When you are ready to ship the frontend app...

ğŸ“¦ Run `yarn vercel` to package up your frontend and deploy.

> Follow the steps to deploy to Vercel. Once you log in (email, github, etc), the default options should work. It'll give you a public URL.

> If you want to redeploy to the same production URL you can run `yarn vercel --prod`. If you omit the `--prod` flag it will deploy it to a preview/test URL.

> ğŸ¦Š Since we have deployed to a public testnet, you will now need to connect using a wallet you own or use a burner wallet. By default ğŸ”¥ `burner wallets` are only available on `hardhat` . You can enable them on every chain by setting `onlyLocalBurnerWallet: false` in your frontend config (`scaffold.config.ts` in `packages/nextjs/`)

#### Configuration of Third-Party Services for Production-Grade Apps.

By default, ğŸ— Scaffold-ETH 2 provides predefined API keys for popular services such as Alchemy and Etherscan. This allows you to begin developing and testing your applications more easily, avoiding the need to register for these services.
This is great to complete your **SpeedRunEthereum**.

For production-grade applications, it's recommended to obtain your own API keys (to prevent rate limiting issues). You can configure these at:

- ğŸ”·`ALCHEMY_API_KEY` variable in `packages/hardhat/.env` and `packages/nextjs/.env.local`. You can create API keys from the [Alchemy dashboard](https://dashboard.alchemy.com/).

- ğŸ“ƒ`ETHERSCAN_API_KEY` variable in `packages/hardhat/.env` with your generated API key. You can get your key [here](https://etherscan.io/myapikey).

> ğŸ’¬ Hint: It's recommended to store env's for nextjs in Vercel/system env config for live apps and use .env.local for local testing.

---

## Checkpoint 6: ğŸ“œ Contract Verification

Run the `yarn verify --network your_network` command to verify your contracts on etherscan ğŸ›°

ğŸ‘‰ Search this address on Etherscan to get the URL you submit to ğŸƒâ€â™€ï¸[SpeedRunEthereum.com](https://speedrunethereum.com).

---

> ğŸƒ Head to your next challenge [here](https://speedrunethereum.com).

> ğŸ’¬ Problems, questions, comments on the stack? Post them to the [ğŸ— scaffold-eth developers chat](https://t.me/joinchat/F7nCRK3kI93PoCOk)

---

chapter 2 {

### ğŸ¥… Goals

- [ ] Track the solidity code to find out how the DiceGame contract is generating random numbers.
- [ ] Is it possible to predict the random number for any given roll?
      }

```

```
